docType: ui-spec
format_version: "0.0.2"

metadata:
  name: forgetful-ui
  description: "Dashboard for Forgetful MCP server. Browse memories, entities, projects, documents, code artifacts. Visualize knowledge graph. Quick inline editing and CRUD operations."
  theme: "Dark glassmorphism with depth layers, soft glows, and subtle transparency effects"
  background: "Base slate-950, sidebar slate-900/95, content area with subtle radial gradient (lighter center), graph page pure slate-950"
  palette:
    surface-primary: "bg-slate-900/80 backdrop-blur-sm border border-white/5"
    surface-secondary: "bg-slate-800/60 backdrop-blur-sm border border-white/10"
    surface-hover: "bg-slate-700/40"
    accent-memory: "#a855f7 (purple-500) - for memory nodes, badges, active states"
    accent-entity: "#f59e0b (amber-500) - for entity nodes and badges"
    accent-document: "#3b82f6 (blue-500) - for document nodes and badges"
    accent-code-artifact: "#06b6d4 (cyan-500) - for code artifact badges"
    accent-project: "#22c55e (green-500) - for project badges"
    text-primary: "white opacity-90"
    text-secondary: "white opacity-60"
    text-dimmed: "white opacity-40"
    border-subtle: "white opacity-5"
    border-hover: "white opacity-10"
    interactive-hover: "Background lighten + subtle glow in accent color"
    glow-selected: "0 0 20px accent-color with opacity 0.4"
    importance-high: "linear-gradient(135deg, #ef4444, #f97316) for 9-10"
    importance-medium: "#eab308 for 7-8"
    importance-low: "#6b7280 for below 7"

# =============================================================================
# TEMPLATES
# =============================================================================

templates:
  main_layout:
    purpose: "Three-column layout with collapsible sidebar, main content area, and slide-in detail panel. Global project context filtering: UI must provide a way to filter all views by a single project (dropdown with 'All Projects' default, projects sorted by recent activity, Ctrl+P shortcut). When project selected: all list screens auto-filter, 'Create' actions pre-fill project, search scoped to project. Implementation decides placement and visual style."
    regions:
      - id: sidebar
        type: static
        position: left
        fullHeight: true
        width: "240px (collapsed: 64px)"
        purpose: "Left sidebar (bg-slate-900/95 with border-right border-subtle). Fixed position, full height. Flex column layout with nav items taking available space, collapse toggle at bottom"
        blocks:
          - id: logo
            type: logo
            purpose: "Forgetful logo: brain/network icon (gradient purple-pink), 'Forgetful' text. Click navigates to dashboard"
          - id: global_search
            type: custom
            purpose: "Search trigger below logo: search icon, placeholder 'Quick search...', '/' kbd hint. Click or '/' hotkey opens GlobalSearch modal overlay. Glass surface background"
          - id: nav
            type: main_navigation
            purpose: "Vertical navigation list with icons and labels. Items: Dashboard (grid icon), Memories (brain icon), Entities (cube icon), Projects (folder icon), Documents (file icon), Code Artifacts (code brackets icon), Graph (network icon). Active item: accent background glow, white text. Inactive: text-secondary. Hover: subtle highlight"
          - id: collapse_toggle
            purpose: "Bottom of sidebar: 'Collapse' text with chevron icon. Click collapses sidebar to icon-only mode"
      - id: content
        type: content
        position: center
        purpose: "Main content area (flex-1, overflow-y-auto). Padding 24px. Background subtle radial gradient from center. Contains page-specific content. Scrollable independently"
        blocks:
          - id: auth_warning
            type: custom
            purpose: "Thin info bar at top of content area (not over sidebar). Appears when server running without authentication. Yellow/amber semi-transparent background (rgba(234, 179, 8, 0.15)), border-bottom in same color. Contains: warning icon (14px), text 'Auth disabled — Server running without authentication', close X button on right. Dismissible (state persists in session). Height ~28px. Does not overlap content - pushes content down via flex layout."
          - id: project_context_bar
            type: custom
            purpose: "Context indicator bar, visible when project selected. Shows project name, item counts for current view, 'Clear filter' link. Subtle accent-project background"
      - id: detail_panel
        type: static
        position: right
        fullHeight: true
        purpose: "Slide-in quick edit panel (380px width, glass surface bg-slate-900/80 with subtle border-left). Hidden by default, appears when item selected from list/graph. Scroll vertical if content overflows"
        blocks:
          - id: detail_header
            purpose: "Header section (padding 20px): Type badge (small rounded pill, colored by type - purple for Memory, amber for Entity, etc.), title below badge (h2, white, inline editable - shows cursor on hover), close X button top-right corner (text-secondary, hover white)"
          - id: detail_quick_edit
            purpose: "Section with label 'Quick edit' (text-secondary, small caps). Contains form fields with labels in text-dimmed: Importance (horizontal slider 1-10 with value display, track in surface-secondary, thumb in accent-memory), Tags (horizontal row of tag pills with x buttons, input to add new), Associated projects (horizontal row of project pills, + button to add). All fields auto-save on change"
          - id: detail_content_preview
            purpose: "Section with label 'Content preview' (text-secondary). Shows content text (text-primary, max 4 lines) with 'Show more' link below (text-secondary underline on hover) if content truncated"
          - id: detail_related_items
            purpose: "Section with label 'Related Items' (text-secondary). List of linked items, each row: colored dot (by type), item title (text-primary, clickable), 'Unlink' text button on right (text-dimmed, hover text-secondary). Shows up to 5 items with 'Show all N' link if more"
          - id: detail_footer
            purpose: "Footer section (border-top border-subtle, padding 16px): Left side shows 'ID: N' and 'Created: date' in text-dimmed small text. Right side has action buttons row"
          - id: detail_actions
            purpose: "Action buttons (right-aligned): 'Delete' button (text-dimmed, hover red), 'View in Graph' button (ghost style, border-subtle), 'Edit Full' primary button (accent background with glow)"

default_template: main_layout

# =============================================================================
# NAVIGATION
# =============================================================================

navigation:
  items:
    - id: dashboard
      label: Dashboard
      target: dashboard
    - id: memories
      label: Memories
      target: memories
    - id: entities
      label: Entities
      target: entities
    - id: projects
      label: Projects
      target: projects
    - id: documents
      label: Documents
      target: documents
    - id: code_artifacts
      label: Code Artifacts
      target: code_artifacts
    - id: graph
      label: Graph
      target: graph

# =============================================================================
# SCREEN GROUPS
# =============================================================================

screen_groups:
  - id: overview
    screens: [dashboard, graph]
  - id: data_management
    screens: [memories, memory_detail, entities, entity_detail, projects, project_detail, documents, document_detail, code_artifacts, code_artifact_detail]
  - id: overlays
    screens: [search_results, item_editor]

# =============================================================================
# SCREENS
# =============================================================================

screens:
  # ---------------------------------------------------------------------------
  # DASHBOARD
  # ---------------------------------------------------------------------------
  dashboard:
    title: Dashboard
    purpose: "Overview of data with quick stats and recent items. Respects global project context - shows stats and items for selected project only"
    blocks:
      - id: stats_row
        columns: 12
        purpose: "Row of stat cards showing counts: Memories, Entities, Projects, Documents, Code Artifacts. Each card clickable - navigates to respective list"
        blocks:
          - id: stat_memories
            columns: 2
            purpose: "Stat card: memory icon, count, label 'Memories'. Click -> memories list"
          - id: stat_entities
            columns: 2
            purpose: "Stat card: entity icon, count, label 'Entities'. Click -> entities list"
          - id: stat_projects
            columns: 2
            purpose: "Stat card: project icon, count, label 'Projects'. Click -> projects list"
          - id: stat_documents
            columns: 2
            purpose: "Stat card: document icon, count, label 'Documents'. Click -> documents list"
          - id: stat_code_artifacts
            columns: 2
            purpose: "Stat card: code icon, count, label 'Code Artifacts'. Click -> code artifacts list"
          - id: stat_graph
            columns: 2
            purpose: "Stat card: graph icon, total relations count, label 'Relations'. Click -> graph view"
      - id: recent_memories
        columns: 8
        purpose: "Recent memories list (last 10). Each row: title, importance badge (color-coded), tags, project badge, updated_at. Row click -> memory detail. Header has 'View All' link"
      - id: quick_actions
        columns: 4
        purpose: "Quick actions panel"
        blocks:
          - id: global_search
            purpose: "Search trigger: click opens GlobalSearch modal. Shows '/' kbd hint. Same behavior as sidebar search"
          - id: create_buttons
            purpose: "Quick create buttons grid (2x3): New Memory, New Entity, New Project, New Document, New Code Artifact, View Graph. Each opens respective create modal or navigates"
          - id: high_importance
            purpose: "High importance memories (importance >= 9). Shows count badge. Click expands to show list of top 5 titles. Click title -> memory detail"

  # ---------------------------------------------------------------------------
  # MEMORIES
  # ---------------------------------------------------------------------------
  memories:
    title: Memories
    purpose: "List all memories with search, filters, and inline quick actions"
    blocks:
      - id: header
        columns: 12
        purpose: "Page header with title 'Memories', search input (searches title, content, keywords), filter dropdowns (importance, tags, obsolete status), 'Create Memory' button. Auto-filtered by global project context"
      - id: memories_table
        columns: 12
        purpose: "Data table with columns: checkbox, title, importance (editable inline - number input), tags (editable inline - tag input), project (badge), updated_at, actions (delete, mark obsolete). Row click -> opens quick edit drawer. Double-click title -> full detail page. Sortable columns. Pagination footer. Multi-select for bulk actions"
      - id: bulk_actions_bar
        columns: 12
        purpose: "Sticky bottom bar (appears when items selected): selected count, bulk actions: Delete, Mark Obsolete, Add to Project, Remove from Project"

  memory_detail:
    title: Memory Detail
    purpose: "Full page for complex memory editing. INLINE EDITING throughout - no separate edit mode. Title, content, context use contenteditable. Importance badge is clickable dropdown. Changes tracked locally, saved via 'Save Changes' button. Use when drawer is insufficient: long content, managing many links, viewing full context. Accessible via double-click or 'Open Full Page' from drawer"
    blocks:
      - id: breadcrumb
        columns: 12
        purpose: "Breadcrumb: Memories > [Memory Title]"
      - id: header
        columns: 12
        purpose: "Header row: title (h1, INLINE EDITABLE via contenteditable - shows subtle border-bottom on hover, accent-memory border on focus), importance badge (clickable dropdown 1-10, colored by value), obsolete badge if applicable, actions: Delete, Mark Obsolete, 'Save Changes' primary button"
      - id: main_content
        columns: 8
        purpose: "Main content area"
        blocks:
          - id: content_field
            purpose: "Content card with 'Content' label. Editable content area: surface-secondary bg, border-subtle, rounded-8px, padding-16px. Content is INLINE EDITABLE via contenteditable - supports paragraphs, markdown rendering in view. Shows border-hover on hover, accent-memory border + glow on focus. Min-height 150px"
          - id: context_field
            purpose: "Content card with 'Context' label. Same styling and inline editing behavior as content_field. For memory context and background information"
          - id: keywords_field
            purpose: "Keywords: horizontal tag list, editable. Click tag to search, x to remove, input to add"
          - id: tags_field
            purpose: "Tags: horizontal colored tag list, editable. Same interaction as keywords"
      - id: sidebar
        columns: 4
        purpose: "Sidebar with metadata and relations"
        blocks:
          - id: metadata_card
            purpose: "Metadata card: created_at, updated_at, ID. Read-only"
          - id: projects_card
            purpose: "Linked projects list. Each item clickable -> project detail. Add/remove buttons"
          - id: linked_memories_card
            purpose: "Linked memories list. Each item: title, importance. Click -> memory detail. Add link button opens search modal"
          - id: documents_card
            purpose: "Linked documents list. Click -> document detail. Add link button"
          - id: code_artifacts_card
            purpose: "Linked code artifacts. Click -> artifact detail. Add link button"

  # ---------------------------------------------------------------------------
  # ENTITIES
  # ---------------------------------------------------------------------------
  entities:
    title: Entities
    purpose: "List all entities (people, organizations, teams, devices) with filters"
    blocks:
      - id: header
        columns: 12
        purpose: "Page header: title 'Entities', search input, filter by entity_type dropdown, filter by tags, 'Create Entity' button. Auto-filtered by global project context"
      - id: entities_table
        columns: 12
        purpose: "Data table: checkbox, name, entity_type (badge, filterable), custom_type (if Other), tags (inline editable), projects count, updated_at, actions (delete). Row click -> opens quick edit drawer. Double-click -> full detail page"
      - id: bulk_actions_bar
        columns: 12
        purpose: "Bulk actions when selected: Delete, Add to Project"

  entity_detail:
    title: Entity Detail
    purpose: "Full page for complex entity editing. INLINE EDITING throughout - no separate edit mode. Name uses contenteditable, entity_type is clickable dropdown, notes use MarkdownEditor. Changes tracked locally, saved via 'Save Changes' button. Shows relationships in sidebar. Use for relationship management"
    blocks:
      - id: breadcrumb
        columns: 12
        purpose: "Breadcrumb: Entities > [Entity Name]"
      - id: header
        columns: 12
        purpose: "Header row: badges row (Entity badge, entity_type dropdown badge colored amber, custom_type input inline if type is Other), name below (h1, INLINE EDITABLE via contenteditable - shows subtle border-bottom on hover, accent-entity border on focus), actions: Delete, 'Save Changes' primary button"
      - id: main_content
        columns: 8
        purpose: "Main content area"
        blocks:
          - id: notes_field
            purpose: "Content card with 'Notes' label. Uses MarkdownEditor with click-to-edit: shows rendered markdown preview, click to activate editor with toolbar, click outside to close. Supports markdown formatting. accent-entity color on focus. Min-height 250px"
      - id: sidebar
        columns: 4
        purpose: "Right sidebar with tags, metadata, relationships, and actions cards"
        blocks:
          - id: tags_card
            purpose: "Sidebar card with 'Tags' title. Tags displayed as gray pills (rgba white 0.1 bg, 12px font). Inline editable with '+ tag' input"
          - id: metadata_card
            purpose: "Sidebar card with 'Metadata' title. Read-only metadata list: ID (monospace), Created date, Updated date"
          - id: relationships_card
            purpose: "Sidebar card with 'Relationships' title. Shows incoming/outgoing relationship items with entity name, type badge, direction arrow. Shows up to 5, '+N more' text if exceeded. 'Add relationship' button at bottom"
          - id: actions_card
            purpose: "Sidebar card with 'Actions' title. Buttons: 'View in Graph', 'Add Relationship'"

  # ---------------------------------------------------------------------------
  # PROJECTS
  # ---------------------------------------------------------------------------
  projects:
    title: Projects
    purpose: "List all projects with status filters"
    blocks:
      - id: header
        columns: 12
        purpose: "Page header: title 'Projects', search, filter by status (active/archived/completed), filter by project_type, 'Create Project' button"
      - id: projects_grid
        columns: 12
        purpose: "Card grid (3 columns). Each card: name, project_type badge, status badge (editable on click), description (truncated), memory_count, repo_name link (if set). Card click -> opens quick edit drawer. 'Open' button -> full detail page. Hover shows quick actions (archive, delete)"

  project_detail:
    title: Project Detail
    purpose: "Full page for project management. Shows all linked content in tabs. INLINE EDITING throughout - no separate edit mode. Title, description, notes use contenteditable. Type/status badges are clickable dropdowns. Changes tracked locally, saved via 'Save Changes' button"
    blocks:
      - id: breadcrumb
        columns: 12
        purpose: "Breadcrumb navigation: 'Projects' link > current project name (text-secondary for link, text-primary for current)"
      - id: header
        columns: 12
        purpose: "Page header with inline editable elements and action buttons"
        blocks:
          - id: header_badges
            purpose: "Row of badges above title. project_type badge (clickable dropdown: Development/Research/Documentation/Personal, shows current selection with folder icon and chevron), status badge (clickable dropdown: Active/Paused/Completed/Archived, colored by status - green for active, gray for archived)"
          - id: header_title
            purpose: "Project name as h1 (32px, font-weight-700). INLINE EDITABLE via contenteditable - shows subtle border-bottom on hover, accent-project border on focus. Next to title: repo link button (if repo_name set) - ghost style button with GitHub icon and 'View Repository' text, opens in new tab"
          - id: header_actions
            purpose: "Right-aligned action buttons row: 'Delete' button (btn-danger - transparent bg, text-dimmed, hover red with red bg), 'Archive' button (btn-ghost - border-subtle), 'Save Changes' primary button (btn-primary - accent-project bg with glow). Save button saves all pending inline edits"
      - id: main_content
        columns: 8
        purpose: "Main content area with editable fields and tabbed linked content"
        blocks:
          - id: description_field
            purpose: "Content card with 'Description' label (card-label style: 11px uppercase, text-dimmed, letter-spacing 0.5px). Editable content area below: surface-secondary bg, border-subtle, rounded-8px, padding-16px. Content is INLINE EDITABLE via contenteditable - supports paragraphs, lists, inline code. Shows border-hover on hover, accent-project border + glow on focus. Min-height 100px"
          - id: notes_field
            purpose: "Content card with 'Notes' label. Same styling and inline editing behavior as description_field. For project-specific notes and reminders"
          - id: tabs_section
            purpose: "Tabbed interface for linked content. Tab header with 4 tabs, each showing icon + label + count badge"
            blocks:
              - id: tabs_header
                purpose: "Horizontal tab buttons with bottom border. Each tab: icon (16px), label text, count badge (surface-secondary bg, rounded pill, text-dimmed). Active tab: text-primary, count badge accent-project bg, 2px accent-project bottom border. Inactive: text-secondary, hover text-primary"
              - id: tab_memories
                purpose: "Memories tab content. Data table container (surface-secondary bg, border-subtle, rounded-8px). Table toolbar: search input (left), 'Link Memory' button (right, btn-secondary btn-sm). Table columns: Title (with purple type-dot, clickable link), Tags (tag pills), Importance (color-coded number), Created date, Unlink action. Row hover highlights. Click row opens detail_panel with memory quick edit"
              - id: tab_documents
                purpose: "Documents tab. Same container styling. Toolbar: search, 'Link Document' button. Table columns: Title (blue type-dot, clickable), Type (e.g. Markdown), Created date, Unlink action"
              - id: tab_code_artifacts
                purpose: "Code Artifacts tab. Toolbar: search, 'Link Code Artifact' button. Table columns: Title (cyan type-dot, clickable), Language (accent-code color), Created date, Unlink action"
              - id: tab_entities
                purpose: "Entities tab. Toolbar: search, 'Link Entity' button. Table columns: Name (amber type-dot, clickable), Type (e.g. Technology, Person), Created date, Unlink action"
      - id: sidebar
        columns: 4
        purpose: "Right sidebar with metadata and quick stats cards"
        blocks:
          - id: metadata_card
            purpose: "Sidebar card with 'Metadata' title (with info icon). Read-only metadata list: ID (monospace), Created date, Updated date, Memory Count. Each row: label (text-dimmed) left, value (text-primary, monospace) right"
          - id: repo_card
            purpose: "Sidebar card with 'Repository' title (with GitHub icon). Shows only if repo_name set. Contains: clickable repo link (surface-secondary bg, rounded, padding, shows GitHub icon + 'owner/repo' text, hover darkens bg)"
          - id: stats_card
            purpose: "Sidebar card with 'Quick Stats' title (with bar-chart icon). 2x2 grid of stat items. Each stat: large number (24px, font-weight-700, colored by type - purple/blue/cyan/amber), small label below (11px uppercase text-dimmed). Stats: Memories, Documents, Code Artifacts, Entities"

  # ---------------------------------------------------------------------------
  # DOCUMENTS
  # ---------------------------------------------------------------------------
  documents:
    title: Documents
    purpose: "List all documents with type filters"
    blocks:
      - id: header
        columns: 12
        purpose: "Page header: title 'Documents', search, filter by document_type, filter by tags, 'Create Document' button. Auto-filtered by global project context"
      - id: documents_table
        columns: 12
        purpose: "Data table: checkbox, title, document_type badge, description (truncated), size_bytes (formatted), project (badge), tags, updated_at, actions (delete). Row click -> opens quick edit drawer. Double-click -> full detail page with content editor"

  document_detail:
    title: Document Detail
    purpose: "Full page document editor. Full-height content editor with markdown preview, side-by-side editing mode. Use for long documents"
    blocks:
      - id: breadcrumb
        columns: 12
        purpose: "Breadcrumb: Documents > [Document Title]"
      - id: header
        columns: 12
        purpose: "Header: title (h1, editable), document_type badge (editable), actions: Save, Delete, Download"
      - id: main_content
        columns: 8
        purpose: "Main content"
        blocks:
          - id: description_field
            purpose: "Description textarea, editable"
          - id: content_field
            purpose: "Content area: markdown rendered view with toggle to edit mode (code editor with syntax highlighting)"
          - id: tags_field
            purpose: "Tags, inline editable"
      - id: sidebar
        columns: 4
        purpose: "Sidebar"
        blocks:
          - id: metadata_card
            purpose: "Metadata: ID, filename, size_bytes, created_at, updated_at"
          - id: project_card
            purpose: "Linked project (single). Change project dropdown"
          - id: linked_memories_card
            purpose: "Memories that reference this document. Each clickable"

  # ---------------------------------------------------------------------------
  # CODE ARTIFACTS
  # ---------------------------------------------------------------------------
  code_artifacts:
    title: Code Artifacts
    purpose: "List all code artifacts with language filters"
    blocks:
      - id: header
        columns: 12
        purpose: "Page header: title 'Code Artifacts', search, filter by language dropdown, filter by tags, 'Create Code Artifact' button. Auto-filtered by global project context"
      - id: artifacts_table
        columns: 12
        purpose: "Data table: checkbox, title, language badge (colored by language), description (truncated), project (badge), tags, updated_at, actions (copy code, delete). Row click -> opens quick edit drawer with code preview. Double-click -> full detail page with code editor"

  code_artifact_detail:
    title: Code Artifact Detail
    purpose: "Full page code editor. Full-height monaco-style editor with syntax highlighting, line numbers, minimap. Use for complex code editing"
    blocks:
      - id: breadcrumb
        columns: 12
        purpose: "Breadcrumb: Code Artifacts > [Artifact Title]"
      - id: header
        columns: 12
        purpose: "Header: title (h1, editable), language badge (editable dropdown), actions: Save, Delete, Copy Code"
      - id: main_content
        columns: 8
        purpose: "Main content"
        blocks:
          - id: description_field
            purpose: "Description textarea, editable"
          - id: code_field
            purpose: "Code editor with syntax highlighting based on language. Line numbers. Copy button. Full-screen toggle"
          - id: tags_field
            purpose: "Tags, inline editable"
      - id: sidebar
        columns: 4
        purpose: "Sidebar"
        blocks:
          - id: metadata_card
            purpose: "Metadata: ID, language, created_at, updated_at"
          - id: project_card
            purpose: "Linked project. Change project dropdown"
          - id: linked_memories_card
            purpose: "Memories that reference this artifact"

  # ---------------------------------------------------------------------------
  # GRAPH
  # ---------------------------------------------------------------------------
  graph:
    title: Knowledge Graph
    purpose: "Ego-centric force-directed graph visualization. Shows focused node + neighbors within configurable depth (1-3 levels). No 'show all' mode - user must search/select a node to explore. Respects global project context. URL param ?focus=node-id for deep linking."
    container_max_width: "100%"
    behavior:
      ego_centric: "Graph centered on selected node. Click any node to refocus on it. Depth selector controls how many levels of neighbors to show (1/2/3)."
      navigation: "Search nodes by name in toolbar. Select from dropdown to focus. Click node in graph to refocus. URL updates with ?focus=node-id for sharing/bookmarking."
      force_layout: "Tuned for readability: charge -200, link distance 200, collision radius 50. Strongly connected nodes get adequate spacing."
    blocks:
      - id: toolbar
        columns: 12
        purpose: "Floating toolbar (top-center, glass surface pill shape). Controls: zoom-in/out/fit | layout switcher (force/hierarchical/radial) | node type filters (colored icons) | SEARCH INPUT (180px, shows dropdown with results on type, click result to focus) | DEPTH SELECTOR (dropdown 1/2/3, disabled when no focus) | CLEAR FOCUS button (red X, visible when focused) | export menu | fullscreen toggle"
      - id: graph_canvas
        columns: 12
        purpose: "Full-height canvas. Nodes: circles with gradient fill (type color), size 12px normal / 18px for focused node. FOCUSED NODE: double glow ring (outer 22% opacity, inner 44%), thick white border (3px), always shows label. Other nodes: thin border, label on zoom. Click node: refocus graph on it + open detail_panel. Drag: rearrange. Pan/zoom: mouse."
        blocks:
          - id: focused_label
            purpose: "Floating indicator below toolbar when node focused. Shows Badge with node type color + name, stats below (N nodes · M connections)"
          - id: graph_legend
            purpose: "Floating panel (bottom-left). Node type legend with colored dots. Edge thickness = relationship strength."
          - id: graph_minimap
            purpose: "Floating panel (bottom-right, 160x120px). Miniature preview, click to pan."
      - id: no_focus_state
        columns: 12
        purpose: "Centered message when no node focused (but data exists): search icon (48px, dimmed), 'Search for a memory or entity to explore its connections' text, 'N nodes available' hint below"
      - id: empty_state
        columns: 12
        purpose: "Centered overlay when NO DATA at all: brain illustration, 'Your knowledge graph is empty' heading, 'Create First Memory' button, 'Import Data' ghost button"

  # ---------------------------------------------------------------------------
  # SEARCH RESULTS (overlay)
  # ---------------------------------------------------------------------------
  search_results:
    title: Search Results
    purpose: "GlobalSearch modal overlay (opened via '/' hotkey or search triggers). Shows results grouped by type. Click result navigates to detail page. Respects global project context. Semantic search"
    blocks:
      - id: search_header
        columns: 12
        purpose: "Search query display in large text, result count badge, search mode indicator (semantic/keyword toggle), 'Clear' button"
      - id: search_filters
        columns: 12
        purpose: "Filter chips row: type toggles (memories/entities/documents/code_artifacts/projects), date range picker"
      - id: search_results_list
        columns: 12
        purpose: "Grouped results sections, each collapsible"
        blocks:
          - id: memories_results
            purpose: "Memories section: header with count. Each result: title, content preview, importance badge. Click navigates to /memories/{id}"
          - id: entities_results
            purpose: "Entities section: name, entity_type. Click navigates to /entities/{id}"
          - id: documents_results
            purpose: "Documents section. Click navigates to /documents/{id}"
          - id: code_artifacts_results
            purpose: "Code artifacts section. Click navigates to /code-artifacts/{id}"
          - id: projects_results
            purpose: "Projects section. Click navigates to /projects/{id}"

  # ---------------------------------------------------------------------------
  # EDITOR MODAL
  # ---------------------------------------------------------------------------
  item_editor:
    title: Editor
    purpose: "Modal dialog for creating/editing memories, entities, documents, code artifacts. Form adapts to item type. Includes preview and link suggestions"
    blocks:
      - id: editor_modal
        columns: 12
        purpose: "Modal dialog 'Create/Edit Item' (centered overlay, 700px wide, glass surface). Header with type selector tabs (Memory/Entity/Document/Code Artifact), item title if editing, close button (X)"
        blocks:
          - id: editor_form
            purpose: "Dynamic form based on selected type. Memory: title input, content textarea (markdown), context textarea, importance slider (1-10 with color preview), keywords input (tag-style), tags input (autocomplete), project multi-select. Entity: name, type dropdown, custom_type (if Other), notes textarea, tags. Document: title, description, content textarea (large with markdown preview toggle), document_type, tags, project select. Code Artifact: title, description, language dropdown with syntax preview, code editor (monaco-style), tags, project select"
          - id: editor_links
            purpose: "Link suggestions panel (collapsible): 'Suggested links' based on content similarity, list of candidates with checkbox to accept each, shows similarity score percentage, 'Refresh suggestions' button"
          - id: editor_preview
            purpose: "Live preview tab: rendered markdown, tags displayed as chips, importance badge with color, type badge"
          - id: editor_actions
            purpose: "Footer (sticky): Cancel button (ghost style), Save button (primary, accent glow), 'Save & Create Another' checkbox for batch creation"
